<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/my-fragments :: header-fragment"></head>
<body>
<div th:replace="fragments/my-fragments :: navbar-fragment"></div>
<div class="container" id="main">
    <h1 class="display-4" th:text="'My redeemable points: ' + ${user.getPoints()}"></h1>
    <p class="text-muted" th:text="'Current cart total: ' + ${currentCartTotal}"></p>

    <div class="table-responsive">
        <table class="text-center table table-light table-bordered">
            <thead>
            <tr class="card-header">
                <th style="display: none;" scope="col">ID</th>
                <th scope="col">Photo</th>
                <th scope="col">Name</th>
                <th scope="col">Points worth</th>
                <th scope="col">Action</th>
            </tr>
            </thead>
            <tbody th:each="item: ${itemList}">
            <tr class="cartRow">
                <th style="display: none" scope="row"><input name="cartItemId" type="text" th:value="${item.id}"></th>
                <td><img class="img-fluid user-photo" th:src="${item.imageUrl}"/></td>
                <td th:text="${item.name}"></td>
                <td th:text="${item.pointsWorth}"></td>
                <td>
                    <button type="button" class="removeCartItemButton btn btn-danger">
                        <i class="far fa-minus-square"></i>
                    </button>
                </td>
            </tr>
            </tbody>
        </table>
        <div th:if="${not #lists.isEmpty(itemList)}" class="m-auto col-md-6">
            <a id="checkoutLink" href="/checkout">
                <button id="checkoutButton" class="btn btn-block btn-lg btn-success">Checkout</button>
            </a>
        </div>
    </div>
</div>
<div th:replace="fragments/my-fragments :: footer-fragment"></div>
</body>
</html>
